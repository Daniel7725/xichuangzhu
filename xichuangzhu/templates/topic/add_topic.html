{% extends "layout.html" %}

{% block page_title %}发起新话题{% endblock %}
{% block page_id%}page-add-topic{% endblock %}

{% block body %}

<script type="text/javascript">

$(document).ready(function(){
   $('#modal-nodes').modal({
      backdrop: false,
      show: false
   });

   // select node
   $(".node a").click(function(){
      $("#modal-nodes").modal('hide');

      var node = $(this).text();
      var node_id = $(this).attr('data-node-id');
      $("#node").text(node);
      $("#node_id").val(node_id);
   });
});

</script>

<form id="form-add-topic" class="form-horizontal" method="post" action="{{ url_for('add_topic') }}">
   <fieldset>
      <legend>发起新话题</legend>

      {{ form.csrf_token }}

      {% from "widget/form.widget" import render_form_error %}
      {{ render_form_error(form)|safe }}

      <div class="control-group">
         {{ form.title.label(class="control-label") }}
         <div class="controls">
            {{ form.title(class="input-xlarge") }}
         </div>
      </div>

      <div class="control-group">
         {{ form.content.label(class="control-label") }}
         <div class="controls">
            {{ form.content(class="input-xxlarge", rows="15") }}
         </div>
      </div>

      <div class="control-group">
         <div class="controls">
            <input type="submit" value="提交" class="btn btn-primary btn-small" />
         </div>
      </div>
   </fieldset>
</form>

{% endblock %}